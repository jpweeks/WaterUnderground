<!doctype html>
<html>
<head>
	<title>ground water vis</title>
	<style type="text/css">
		body { margin: 0; overflow: hidden; background: #111; }
		#gui-container { 
			position: absolute; overflow: hidden; width: 110%; bottom: 0; right: 0;
			border-top: 1px solid #888;
		}
		#gui-container div { 
			float: right; height: 30px;  background: #fff;
			-webkit-transition-property: opacity, width;
			-webkit-transition: 300ms ease-out;
		}
		#gui-container .loading { opacity: 0.05 }
		#gui-container .loaded { opacity: 0.25; cursor: pointer; }
		#gui-container .loaded:hover { opacity: 0.9; }
	</style>
</head>
<body>

	<div id="gui-container"></div>

	<script type="text/javascript" src="js/Three_dev_r46.js"></script>
	<script type="text/javascript" src="js/RequestAnimationFrame.js"></script>
	<script type="text/javascript" src="js/Tween.js"></script>
	<script type="text/javascript" src="js/Stats.js"></script>

	<script id="vs" type="x-shader/x-vertex">

		attribute float displacement;
		varying float vDisplace;

		attribute float opacity;
		varying float fade;

		 void main() {

			vDisplace = displacement;
			fade = opacity;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position + ( normalize( position ) * -displacement * 2.5 ), 1.0 );
		 }

	</script>
	<script id="fs" type="x-shader/x-fragment">

		varying float vDisplace;
		varying float fade;

		void main() {

			float depth = gl_FragCoord.z;

			gl_FragColor = vec4(
				smoothstep( -10.0, 30.0, vDisplace ),
				smoothstep( 35.0, 20.0, vDisplace ),
				smoothstep( 30.0, -30.0, vDisplace ),
				smoothstep( 0.97, 0.90, depth ) * 0.9 * fade
			);
		 }

	</script>

	<script type="text/javascript" src="js/GlobeApp.js"></script>

	<!--script type="text/javascript" src="data/GRACE.2011.05.js"></script-->


</body>
</html>